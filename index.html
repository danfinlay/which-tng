<!doctype html>

<html>
<head>
<title>TNG Suggestor</title>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r61/three.min.js"></script>
<script>
  var episodes = [
    {
      "num": "1 / 2",
      "title": "Encounter at Farpoint",
      "url": "https://en.wikipedia.org/wiki/Encounter_at_Farpoint"
    },
    {
      "num": "3",
      "title": "The Naked Now",
      "url": "https://en.wikipedia.org/wiki/The_Naked_Now"
    },
    {
      "num": "4",
      "title": "Code of Honor",
      "url": "https://en.wikipedia.org/wiki/Code_of_Honor_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "5",
      "title": "The Last Outpost",
      "url": "https://en.wikipedia.org/wiki/The_Last_Outpost_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "6",
      "title": "Where No One Has Gone Before",
      "url": "https://en.wikipedia.org/wiki/Where_No_One_Has_Gone_Before"
    },
    {
      "num": "7",
      "title": "Lonely Among Us",
      "url": "https://en.wikipedia.org/wiki/Lonely_Among_Us"
    },
    {
      "num": "8",
      "title": "Justice",
      "url": "https://en.wikipedia.org/wiki/Justice_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "9",
      "title": "The Battle",
      "url": "https://en.wikipedia.org/wiki/The_Battle_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "10",
      "title": "Hide and Q",
      "url": "https://en.wikipedia.org/wiki/Hide_and_Q"
    },
    {
      "num": "11",
      "title": "Haven",
      "url": "https://en.wikipedia.org/wiki/Haven_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "12",
      "title": "The Big Goodbye",
      "url": "https://en.wikipedia.org/wiki/The_Big_Goodbye"
    },
    {
      "num": "13",
      "title": "Datalore",
      "url": "https://en.wikipedia.org/wiki/Datalore"
    },
    {
      "num": "14",
      "title": "Angel One",
      "url": "https://en.wikipedia.org/wiki/Angel_One"
    },
    {
      "num": "15",
      "title": "11001001",
      "url": "https://en.wikipedia.org/wiki/11001001"
    },
    {
      "num": "16",
      "title": "Too Short a Season",
      "url": "https://en.wikipedia.org/wiki/Too_Short_a_Season"
    },
    {
      "num": "17",
      "title": "When the Bough Breaks",
      "url": "https://en.wikipedia.org/wiki/When_the_Bough_Breaks_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "18",
      "title": "Home Soil",
      "url": "https://en.wikipedia.org/wiki/Home_Soil"
    },
    {
      "num": "19",
      "title": "Coming of Age",
      "url": "https://en.wikipedia.org/wiki/Coming_of_Age_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "20",
      "title": "Heart of Glory",
      "url": "https://en.wikipedia.org/wiki/Heart_of_Glory"
    },
    {
      "num": "21",
      "title": "The Arsenal of Freedom",
      "url": "https://en.wikipedia.org/wiki/The_Arsenal_of_Freedom"
    },
    {
      "num": "22",
      "title": "Symbiosis",
      "url": "https://en.wikipedia.org/wiki/Symbiosis_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "23",
      "title": "Skin of Evil",
      "url": "https://en.wikipedia.org/wiki/Skin_of_Evil"
    },
    {
      "num": "24",
      "title": "We'll Always Have Paris",
      "url": "https://en.wikipedia.org/wiki/We%27ll_Always_Have_Paris_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "25",
      "title": "Conspiracy",
      "url": "https://en.wikipedia.org/wiki/Conspiracy_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "26",
      "title": "The Neutral Zone",
      "url": "https://en.wikipedia.org/wiki/The_Neutral_Zone_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "27",
      "title": "The Child",
      "url": "https://en.wikipedia.org/wiki/The_Child_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "28",
      "title": "Where Silence Has Lease",
      "url": "https://en.wikipedia.org/wiki/Where_Silence_Has_Lease"
    },
    {
      "num": "29",
      "title": "Elementary, Dear Data",
      "url": "https://en.wikipedia.org/wiki/Elementary,_Dear_Data"
    },
    {
      "num": "30",
      "title": "The Outrageous Okona",
      "url": "https://en.wikipedia.org/wiki/The_Outrageous_Okona"
    },
    {
      "num": "31",
      "title": "Loud as a Whisper",
      "url": "https://en.wikipedia.org/wiki/Loud_as_a_Whisper"
    },
    {
      "num": "32",
      "title": "The Schizoid Man",
      "url": "https://en.wikipedia.org/wiki/The_Schizoid_Man_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "33",
      "title": "Unnatural Selection",
      "url": "https://en.wikipedia.org/wiki/Unnatural_Selection_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "34",
      "title": "A Matter of Honor",
      "url": "https://en.wikipedia.org/wiki/A_Matter_of_Honor"
    },
    {
      "num": "35",
      "title": "The Measure of a Man",
      "url": "https://en.wikipedia.org/wiki/The_Measure_of_a_Man_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "36",
      "title": "The Dauphin",
      "url": "https://en.wikipedia.org/wiki/The_Dauphin"
    },
    {
      "num": "37",
      "title": "Contagion",
      "url": "https://en.wikipedia.org/wiki/Contagion_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "38",
      "title": "The Royale",
      "url": "https://en.wikipedia.org/wiki/The_Royale"
    },
    {
      "num": "39",
      "title": "Time Squared",
      "url": "https://en.wikipedia.org/wiki/Time_Squared_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "40",
      "title": "The Icarus Factor",
      "url": "https://en.wikipedia.org/wiki/The_Icarus_Factor"
    },
    {
      "num": "41",
      "title": "Pen Pals",
      "url": "https://en.wikipedia.org/wiki/Pen_Pals_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "42",
      "title": "Q Who",
      "url": "https://en.wikipedia.org/wiki/Q_Who"
    },
    {
      "num": "43",
      "title": "Samaritan Snare",
      "url": "https://en.wikipedia.org/wiki/Samaritan_Snare"
    },
    {
      "num": "44",
      "title": "Up the Long Ladder",
      "url": "https://en.wikipedia.org/wiki/Up_the_Long_Ladder"
    },
    {
      "num": "45",
      "title": "Manhunt",
      "url": "https://en.wikipedia.org/wiki/Manhunt_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "46",
      "title": "The Emissary",
      "url": "https://en.wikipedia.org/wiki/The_Emissary_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "47",
      "title": "Peak Performance",
      "url": "https://en.wikipedia.org/wiki/Peak_Performance_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "48",
      "title": "Shades of Gray",
      "url": "https://en.wikipedia.org/wiki/Shades_of_Gray_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "50[nb 1]",
      "title": "Evolution",
      "url": "https://en.wikipedia.org/wiki/Evolution_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "49",
      "title": "The Ensigns of Command",
      "url": "https://en.wikipedia.org/wiki/The_Ensigns_of_Command"
    },
    {
      "num": "51",
      "title": "The Survivors",
      "url": "https://en.wikipedia.org/wiki/The_Survivors_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "52",
      "title": "Who Watches the Watchers",
      "url": "https://en.wikipedia.org/wiki/Who_Watches_the_Watchers"
    },
    {
      "num": "53",
      "title": "The Bonding",
      "url": "https://en.wikipedia.org/wiki/The_Bonding"
    },
    {
      "num": "54",
      "title": "Booby Trap",
      "url": "https://en.wikipedia.org/wiki/Booby_Trap_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "55",
      "title": "The Enemy",
      "url": "https://en.wikipedia.org/wiki/The_Enemy_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "56",
      "title": "The Price",
      "url": "https://en.wikipedia.org/wiki/The_Price_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "57",
      "title": "The Vengeance Factor",
      "url": "https://en.wikipedia.org/wiki/The_Vengeance_Factor"
    },
    {
      "num": "58",
      "title": "The Defector",
      "url": "https://en.wikipedia.org/wiki/The_Defector_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "59",
      "title": "The Hunted",
      "url": "https://en.wikipedia.org/wiki/The_Hunted_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "60",
      "title": "The High Ground",
      "url": "https://en.wikipedia.org/wiki/The_High_Ground_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "61",
      "title": "Déjà Q",
      "url": "https://en.wikipedia.org/wiki/D%C3%A9j%C3%A0_Q"
    },
    {
      "num": "62",
      "title": "A Matter of Perspective",
      "url": "https://en.wikipedia.org/wiki/A_Matter_of_Perspective"
    },
    {
      "num": "63",
      "title": "Yesterday's Enterprise",
      "url": "https://en.wikipedia.org/wiki/Yesterday%27s_Enterprise"
    },
    {
      "num": "64",
      "title": "The Offspring",
      "url": "https://en.wikipedia.org/wiki/The_Offspring_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "65",
      "title": "Sins of the Father",
      "url": "https://en.wikipedia.org/wiki/Sins_of_the_Father_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "66",
      "title": "Allegiance",
      "url": "https://en.wikipedia.org/wiki/Allegiance_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "67",
      "title": "Captain's Holiday",
      "url": "https://en.wikipedia.org/wiki/Captain%27s_Holiday"
    },
    {
      "num": "68",
      "title": "Tin Man",
      "url": "https://en.wikipedia.org/wiki/Tin_Man_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "69",
      "title": "Hollow Pursuits",
      "url": "https://en.wikipedia.org/wiki/Hollow_Pursuits"
    },
    {
      "num": "70",
      "title": "The Most Toys",
      "url": "https://en.wikipedia.org/wiki/The_Most_Toys"
    },
    {
      "num": "71",
      "title": "Sarek",
      "url": "https://en.wikipedia.org/wiki/Sarek_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "72",
      "title": "Ménage à Troi",
      "url": "https://en.wikipedia.org/wiki/M%C3%A9nage_%C3%A0_Troi"
    },
    {
      "num": "73",
      "title": "Transfigurations",
      "url": "https://en.wikipedia.org/wiki/Transfigurations"
    },
    {
      "num": "74",
      "title": "The Best of Both Worlds",
      "url": "https://en.wikipedia.org/wiki/The_Best_of_Both_Worlds_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "75",
      "title": "The Best of Both Worlds: Part II",
      "url": "https://en.wikipedia.org/wiki/The_Best_of_Both_Worlds_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "76",
      "title": "Family",
      "url": "https://en.wikipedia.org/wiki/Family_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "77",
      "title": "Brothers",
      "url": "https://en.wikipedia.org/wiki/Brothers_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "78",
      "title": "Suddenly Human",
      "url": "https://en.wikipedia.org/wiki/Suddenly_Human"
    },
    {
      "num": "79",
      "title": "Remember Me",
      "url": "https://en.wikipedia.org/wiki/Remember_Me_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "80",
      "title": "Legacy",
      "url": "https://en.wikipedia.org/wiki/Legacy_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "81",
      "title": "Reunion",
      "url": "https://en.wikipedia.org/wiki/Reunion_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "82",
      "title": "Future Imperfect",
      "url": "https://en.wikipedia.org/wiki/Future_Imperfect"
    },
    {
      "num": "83",
      "title": "Final Mission",
      "url": "https://en.wikipedia.org/wiki/Final_Mission"
    },
    {
      "num": "84",
      "title": "The Loss",
      "url": "https://en.wikipedia.org/wiki/The_Loss"
    },
    {
      "num": "85",
      "title": "Data's Day",
      "url": "https://en.wikipedia.org/wiki/Data%27s_Day"
    },
    {
      "num": "86",
      "title": "The Wounded",
      "url": "https://en.wikipedia.org/wiki/The_Wounded_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "87",
      "title": "Devil's Due",
      "url": "https://en.wikipedia.org/wiki/Devil%27s_Due_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "88",
      "title": "Clues",
      "url": "https://en.wikipedia.org/wiki/Clues_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "89",
      "title": "First Contact",
      "url": "https://en.wikipedia.org/wiki/First_Contact_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "90",
      "title": "Galaxy's Child",
      "url": "https://en.wikipedia.org/wiki/Galaxy%27s_Child"
    },
    {
      "num": "91",
      "title": "Night Terrors",
      "url": "https://en.wikipedia.org/wiki/Night_Terrors_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "92",
      "title": "Identity Crisis",
      "url": "https://en.wikipedia.org/wiki/Identity_Crisis_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "93",
      "title": "The Nth Degree",
      "url": "https://en.wikipedia.org/wiki/The_Nth_Degree_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "94",
      "title": "Qpid",
      "url": "https://en.wikipedia.org/wiki/Qpid"
    },
    {
      "num": "95",
      "title": "The Drumhead",
      "url": "https://en.wikipedia.org/wiki/The_Drumhead"
    },
    {
      "num": "96",
      "title": "Half a Life",
      "url": "https://en.wikipedia.org/wiki/Half_a_Life_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "97",
      "title": "The Host",
      "url": "https://en.wikipedia.org/wiki/The_Host_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "98",
      "title": "The Mind's Eye",
      "url": "https://en.wikipedia.org/wiki/The_Mind%27s_Eye_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "99",
      "title": "In Theory",
      "url": "https://en.wikipedia.org/wiki/In_Theory_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "100",
      "title": "Redemption I",
      "url": "https://en.wikipedia.org/wiki/Redemption_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "101",
      "title": "Redemption II",
      "url": "https://en.wikipedia.org/wiki/Redemption_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "102",
      "title": "Darmok",
      "url": "https://en.wikipedia.org/wiki/Darmok"
    },
    {
      "num": "103",
      "title": "Ensign Ro",
      "url": "https://en.wikipedia.org/wiki/Ensign_Ro_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "104",
      "title": "Silicon Avatar",
      "url": "https://en.wikipedia.org/wiki/Silicon_Avatar"
    },
    {
      "num": "105",
      "title": "Disaster",
      "url": "https://en.wikipedia.org/wiki/Disaster_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "106",
      "title": "The Game",
      "url": "https://en.wikipedia.org/wiki/The_Game_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "107",
      "title": "Unification I",
      "url": "https://en.wikipedia.org/wiki/Unification_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "108",
      "title": "Unification II",
      "url": "https://en.wikipedia.org/wiki/Unification_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "109",
      "title": "A Matter of Time",
      "url": "https://en.wikipedia.org/wiki/A_Matter_of_Time_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "110",
      "title": "New Ground",
      "url": "https://en.wikipedia.org/wiki/New_Ground_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "111",
      "title": "Hero Worship",
      "url": "https://en.wikipedia.org/wiki/Hero_Worship_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "112",
      "title": "Violations",
      "url": "https://en.wikipedia.org/wiki/Violations_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "113",
      "title": "The Masterpiece Society",
      "url": "https://en.wikipedia.org/wiki/The_Masterpiece_Society"
    },
    {
      "num": "114",
      "title": "Conundrum",
      "url": "https://en.wikipedia.org/wiki/Conundrum_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "115",
      "title": "Power Play",
      "url": "https://en.wikipedia.org/wiki/Power_Play_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "116",
      "title": "Ethics",
      "url": "https://en.wikipedia.org/wiki/Ethics_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "117",
      "title": "The Outcast",
      "url": "https://en.wikipedia.org/wiki/The_Outcast_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "118",
      "title": "Cause and Effect",
      "url": "https://en.wikipedia.org/wiki/Cause_and_Effect_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "119",
      "title": "The First Duty",
      "url": "https://en.wikipedia.org/wiki/The_First_Duty"
    },
    {
      "num": "120",
      "title": "Cost of Living",
      "url": "https://en.wikipedia.org/wiki/Cost_of_Living_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "121",
      "title": "The Perfect Mate",
      "url": "https://en.wikipedia.org/wiki/The_Perfect_Mate"
    },
    {
      "num": "122",
      "title": "Imaginary Friend",
      "url": "https://en.wikipedia.org/wiki/Imaginary_Friend_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "123",
      "title": "I, Borg",
      "url": "https://en.wikipedia.org/wiki/I,_Borg"
    },
    {
      "num": "124",
      "title": "The Next Phase",
      "url": "https://en.wikipedia.org/wiki/The_Next_Phase"
    },
    {
      "num": "125",
      "title": "The Inner Light",
      "url": "https://en.wikipedia.org/wiki/The_Inner_Light_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "126",
      "title": "Time's Arrow",
      "url": "https://en.wikipedia.org/wiki/Time%27s_Arrow_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "127",
      "title": "Time's Arrow, Part II",
      "url": "https://en.wikipedia.org/wiki/Time%27s_Arrow_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "128",
      "title": "Realm of Fear",
      "url": "https://en.wikipedia.org/wiki/Realm_of_Fear"
    },
    {
      "num": "129",
      "title": "Man of the People",
      "url": "https://en.wikipedia.org/wiki/Man_of_the_People_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "130",
      "title": "Relics",
      "url": "https://en.wikipedia.org/wiki/Relics_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "131",
      "title": "Schisms",
      "url": "https://en.wikipedia.org/wiki/Schisms_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "132",
      "title": "True Q",
      "url": "https://en.wikipedia.org/wiki/True_Q"
    },
    {
      "num": "133",
      "title": "Rascals",
      "url": "https://en.wikipedia.org/wiki/Rascals_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "134",
      "title": "A Fistful of Datas",
      "url": "https://en.wikipedia.org/wiki/A_Fistful_of_Datas"
    },
    {
      "num": "135",
      "title": "The Quality of Life",
      "url": "https://en.wikipedia.org/wiki/The_Quality_of_Life_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "136",
      "title": "Chain of Command, Part I",
      "url": "https://en.wikipedia.org/wiki/Chain_of_Command_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "137",
      "title": "Chain of Command, Part II",
      "url": "https://en.wikipedia.org/wiki/Chain_of_Command_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "138",
      "title": "Ship in a Bottle",
      "url": "https://en.wikipedia.org/wiki/Ship_in_a_Bottle_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "139",
      "title": "Aquiel",
      "url": "https://en.wikipedia.org/wiki/Aquiel"
    },
    {
      "num": "140",
      "title": "Face of the Enemy",
      "url": "https://en.wikipedia.org/wiki/Face_of_the_Enemy_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "141",
      "title": "Tapestry",
      "url": "https://en.wikipedia.org/wiki/Tapestry_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "142",
      "title": "Birthright, Part I",
      "url": "https://en.wikipedia.org/wiki/Birthright_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "143",
      "title": "Birthright, Part II",
      "url": "https://en.wikipedia.org/wiki/Birthright_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "144",
      "title": "Starship Mine",
      "url": "https://en.wikipedia.org/wiki/Starship_Mine"
    },
    {
      "num": "145",
      "title": "Lessons",
      "url": "https://en.wikipedia.org/wiki/Lessons_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "146",
      "title": "The Chase",
      "url": "https://en.wikipedia.org/wiki/The_Chase_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "147",
      "title": "Frame of Mind",
      "url": "https://en.wikipedia.org/wiki/Frame_of_Mind_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "148",
      "title": "Suspicions",
      "url": "https://en.wikipedia.org/wiki/Suspicions_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "149",
      "title": "Rightful Heir",
      "url": "https://en.wikipedia.org/wiki/Rightful_Heir"
    },
    {
      "num": "150",
      "title": "Second Chances",
      "url": "https://en.wikipedia.org/wiki/Second_Chances_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "151",
      "title": "Timescape",
      "url": "https://en.wikipedia.org/wiki/Timescape_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "152",
      "title": "Descent, Part 1",
      "url": "https://en.wikipedia.org/wiki/Descent_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "153",
      "title": "Descent, Part II",
      "url": "https://en.wikipedia.org/wiki/Descent_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "154",
      "title": "Liaisons",
      "url": "https://en.wikipedia.org/wiki/Liaisons_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "155",
      "title": "Interface",
      "url": "https://en.wikipedia.org/wiki/Interface_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "156",
      "title": "Gambit, Part I",
      "url": "https://en.wikipedia.org/wiki/Gambit_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "157",
      "title": "Gambit, Part II",
      "url": "https://en.wikipedia.org/wiki/Gambit_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "158",
      "title": "Phantasms",
      "url": "https://en.wikipedia.org/wiki/Phantasms_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "159",
      "title": "Dark Page",
      "url": "https://en.wikipedia.org/wiki/Dark_Page"
    },
    {
      "num": "160",
      "title": "Attached",
      "url": "https://en.wikipedia.org/wiki/Attached"
    },
    {
      "num": "161",
      "title": "Force of Nature",
      "url": "https://en.wikipedia.org/wiki/Force_of_Nature_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "162",
      "title": "Inheritance",
      "url": "https://en.wikipedia.org/wiki/Inheritance_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "163",
      "title": "Parallels",
      "url": "https://en.wikipedia.org/wiki/Parallels_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "164",
      "title": "The Pegasus",
      "url": "https://en.wikipedia.org/wiki/The_Pegasus_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "165",
      "title": "Homeward",
      "url": "https://en.wikipedia.org/wiki/Homeward_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "166",
      "title": "Sub Rosa",
      "url": "https://en.wikipedia.org/wiki/Sub_Rosa_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "167",
      "title": "Lower Decks",
      "url": "https://en.wikipedia.org/wiki/Lower_Decks"
    },
    {
      "num": "168",
      "title": "Thine Own Self",
      "url": "https://en.wikipedia.org/wiki/Thine_Own_Self"
    },
    {
      "num": "169",
      "title": "Masks",
      "url": "https://en.wikipedia.org/wiki/Masks_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "170",
      "title": "Eye of the Beholder",
      "url": "https://en.wikipedia.org/wiki/Eye_of_the_Beholder_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "171",
      "title": "Genesis",
      "url": "https://en.wikipedia.org/wiki/Genesis_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "172",
      "title": "Journey's End",
      "url": "https://en.wikipedia.org/wiki/Journey%27s_End_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "173",
      "title": "Firstborn",
      "url": "https://en.wikipedia.org/wiki/Firstborn_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "174",
      "title": "Bloodlines",
      "url": "https://en.wikipedia.org/wiki/Bloodlines_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "175",
      "title": "Emergence",
      "url": "https://en.wikipedia.org/wiki/Emergence_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "176",
      "title": "Preemptive Strike",
      "url": "https://en.wikipedia.org/wiki/Preemptive_Strike_(Star_Trek:_The_Next_Generation)"
    },
    {
      "num": "177 / 178",
      "title": "All Good Things...",
      "url": "https://en.wikipedia.org/wiki/All_Good_Things..._(Star_Trek:_The_Next_Generation)"
    }
  ]

  var suggestion = document.querySelector('.suggestion');
  var title = document.querySelector('a.title');
  var num = document.querySelector('span.number');

  function newEpisode(){
    var randomEpisode = Math.ceil(episodes.length * Math.random())
    var episode = episodes[randomEpisode]
    console.log("Attempting to render episode " + JSON.stringify(episode))
    renderEpisode(episode)
  }

  function renderEpisode(episode) {
    var suggestion = document.querySelector('.suggestion');
    var title = document.querySelector('a.title');
    var num = document.querySelector('span.number');

    title.textContent = episode.title;
    title.href = episode.url;
    num.textContent = episode.num;
  }
</script>
<style>

html, body {
  /*background-color: black;*/
  color: rgb(40,102,186);
  margin: 0px; padding:0px; overflow: hidden;
}
#WebGL-output{
  z-index:0;
  position: absolute;
  width: 100%;
  height: 100%;
}
#WebGL-output canvas{
  width: 100%;
  height: 100%;
}
.overlay {
  text-align: center;
  position: relative;
  padding-top: 50px;
  color: #ABADFF;
  perspective: 500px;
  width: 100%;
  height: 100%;
}
.suggestion {
  z-index: 3;
}

@font-face {
  font-family: 'Star Trek';
  font-weight:400;
  src:local('Star Trek TNG'), local('Star Trek TNG Title'),
      url(static/fonts/TNG_Title.otf) format('opentype'),
      url(static/fonts/TNG_Title.woff2) format('woff2'),
      url(static/fonts/TNG_Title.0) format('woff');
}
@font-face {
  font-family: 'Montalbon';
  font-weight:400;
  src:local('Montalbon Condensed Italic'),
      url(static/fonts/Montalban.otf) format('opentype');
}
h1, h2 {
  color: rgb(77, 153, 255);
  font-family: 'Star Trek', 'San Francisco', 'Helvetica', 'serif';
  text-shadow: 1px 1px 15px #5847E3;
  line-height: 20px;
  animation: throb 3s infinite;
  z-index: 3;
}
@keyframes throb {
  0% { text-shadow: 1px 1px 15px #5738FF }
  50% { text-shadow: 1px 1px 20px #806BF1 }
  100% { text-shadow: 1px 1px 15px #5738FF; }
}

h1 { font-size: 65pt;}
h2 { font-size: 45pt;}
section {
  font-size: 26pt;
  animation: throb 3s infinite;
  font-family: Montalbon, sans-serif;
}
a{
  text-decoration: underline;
  color: inherit;
  transition: color 0.4s;
}
a:hover{
  color: #CFCFFF;
}
button {
  margin: 20px;
  background: rgba(0,0,0,0);

  color: rgb(77, 153, 255);
  font-size: 14pt;
  font-family: Montalbon, sans-serif;

  border-radius: 5px;
  border: 3px solid #4D99FF;
  transition: color 0.7s;
}
button:hover {
  color: #ABADFF;
  border: 3px solid #ABADFF;
}
button:focus { outline: 0; }

#enterprise{
  z-index: -1;
  position: relative;

  /*transform: translateX(-14000px) translateZ(-10000px) translateY(-3000px);*/
  animation: swoop 8s infinite;

}
@keyframes swoop {
  0% {
    transform: translateX(-140000px) translateZ(-100000px) translateY(0px);
  }
  40% {
    transform: translateX(-14000px) translateZ(-10000px) translateY(-3000px);
  }
  50% {
    transform: translateZ(100px) translateX(1600px) translateY(-900px);
  }
  51% {
    transform: translateX(129998px) translateZ(-100000px) translateY(0) scaleX(-1)
  }
  90% {
    transform: translateX(9598px) translateZ(-8000px) translateY(-1000px) scaleX(-1)
  }
  100% {
    transform: translateX(-1900px) translateZ(100px) translateY(-600px) scaleX(-1)
  }
}

</style>
</head>

<body>
  <div id ="WebGL-output" > </div>

  <div class="overlay">
    <h1>Star Trek: TNG</h1>
    <h2>Episode Suggestor</h2>
    <section class="suggestion">
      How about episode <span class="number">1</span>, "<a class="title" href={{url}}>{{title}}</a>"?
    </section>
    <button onclick=newEpisode(event);>New Suggestion</button>
    <img src='static/img/enterprise.jpg' id="enterprise">
  </div>
</body>

<script>
$(function () {
  var scene = new THREE.Scene();
  var camera = new THREE.PerspectiveCamera(45 , window.innerWidth / window.innerHeight , 0.1, 1000);
  var renderer = new THREE.WebGLRenderer();

  renderer.setSize(window.innerWidth, window.innerHeight);

  var planetGeometry = new THREE.SphereGeometry(4,20,20);

  //Load the planet textures
  var texture = THREE.ImageUtils.loadTexture("https://s3-us-west-2.amazonaws.com/s.cdpn.io/96252/planet-512.jpg");
  var normalmap = THREE.ImageUtils.loadTexture("https://s3-us-west-2.amazonaws.com/s.cdpn.io/96252/normal-map-512.jpg");
  var specmap = THREE.ImageUtils.loadTexture("https://s3-us-west-2.amazonaws.com/s.cdpn.io/96252/water-map-512.jpg");

  var planetMaterial = new THREE.MeshPhongMaterial();
  planetMaterial.map = texture;

  planetMaterial.specularMap = specmap;
  planetMaterial.specular = new THREE.Color( 0xff0000 );
  planetMaterial.shininess = 1;

  planetMaterial.normalMap = normalmap;
  planetMaterial.normalScale.set(-0.3,-0.3);

  var planet = new THREE.Mesh(planetGeometry, planetMaterial);

  //Space background is a large sphere
  var spacetex = THREE.ImageUtils.loadTexture("https://s3-us-west-2.amazonaws.com/s.cdpn.io/96252/space.jpg");
  var spacesphereGeo = new THREE.SphereGeometry(20,20,20);
  var spacesphereMat = new THREE.MeshPhongMaterial();
  spacesphereMat.map = spacetex;

  var spacesphere = new THREE.Mesh(spacesphereGeo,spacesphereMat);

  //spacesphere needs to be double sided as the camera is within the spacesphere
  spacesphere.material.side = THREE.DoubleSide;

  spacesphere.material.map.wrapS = THREE.RepeatWrapping;
  spacesphere.material.map.wrapT = THREE.RepeatWrapping;
  spacesphere.material.map.repeat.set( 5, 3);

  scene.add(spacesphere);

  //position camera
  camera.position.x = 0;
  camera.position.y = 0;
  camera.position.z = -15;
  camera.lookAt(scene.position);

  //create two spotlights to illuminate the scene
  var spotLight = new THREE.SpotLight( 0xffffff );
  spotLight.position.set( -40, 60, -10 );
  spotLight.intensity = 2;
  scene.add( spotLight );

  var spotLight2 = new THREE.SpotLight( 0x5192e9 );
  spotLight2.position.set( 40, -60, 30 );
  spotLight2.intensity = 1.5;
  scene.add( spotLight2 );

  $("#WebGL-output"). append(renderer.domElement);

  //call render loop once
  render();

  //render loop
  function render() {
    requestAnimationFrame(render);
    //rotate planet and spacesphere
    planet.rotation.y += 0.002;
    spacesphere.rotation.y += 0.001;
    renderer.render(scene, camera);
  };

  var started = false;
  function init(){
    var title = document.querySelector('.title')
    if (!title && !started) {
      console.log("Timing out")
      return setTimeout(init, 100);
    }
    if (title && !started) {
      started = true;
      console.log("Starting")
      newEpisode();
    }
  }
  init();
});
</script>

</html>
